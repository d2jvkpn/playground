{
  "inbounds": [
    {
      "type": "socks",
      "tag": "in-socks",
      "listen": "127.0.0.1",
      "listen_port": 1080,
      "users": [
        { "username": "u", "password": "p" }
      ],
      "sniff": true,
      "sniff_override_destination": true
    },
    {
      "type": "http",
      "tag": "in-http",
      "listen": "127.0.0.1",
      "listen_port": 8080,
      "users": [
        { "username": "u", "password": "p" }
      ],
      "sniff": true,
      "sniff_override_destination": true
    },
    {
      "type": "tproxy",
      "tag": "in-tproxy",
      "listen": "0.0.0.0",
      "listen_port": 7895,
      "network": "tcp,udp",
      "sniff": true,
      "sniff_override_destination": true
    },
    {
      "type": "redirect",
      "tag": "in-redirect",
      "listen": "0.0.0.0",
      "listen_port": 7896,
      "sniff": true,
      "sniff_override_destination": true
    },
    {
      "type": "mixed",
      "tag": "in-mixed",
      "listen": "127.0.0.1",
      "listen_port": 7890,
      "users": [
        { "username": "u", "password": "p" }
      ],
      "sniff": true,
      "sniff_override_destination": true
    },
    {
      "type": "direct",
      "tag": "in-dns",
      "listen": "127.0.0.1",
      "listen_port": 1053,
      "network": "udp"
    }
  ],

  #### default
  "route": { "final": "hy2-out" },

  "route": { "final": "reality-out" },

  #### geo rules
  "route": {
    "rules": [
      { "geoip": "cn", "outbound": "reality-out" },
      { "outbound": "hy2-out" }
    ]
  }

  #### protocol
  "route": {
    "rules": [
      { "network": "udp", "outbound": "hy2-out" },
      { "network": "tcp", "outbound": "reality-out" }
    ]
  }

  #### auto
  "outbounds": [
    {
      "type": "selector",
      "tag": "auto",
      "outbounds": ["hy2-out", "reality-out"],
      "default": "hy2-out"
    }
  ]

  "route": {
    "final": "auto"
  }
}
