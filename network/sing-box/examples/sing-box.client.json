{
  "log": {
    "disabled": false,
    "level": "info",
    "timestamp": true,
    "output": "/opt/logs/sing-box.log"
  },
  "dns": {
    "servers": [
      { "tag": "cloudflare", "type": "udp", "server": "1.1.1.1" },
      { "tag": "google", "type": "udp", "server": "8.8.8.8" },
      { "tag": "ali", "type": "https", "server": "223.5.5.5" }
    ],
    "strategy": "prefer_ipv4",
    "disable_cache": false
  },
  "inbounds": [
    {
      "type": "mixed",
      "tag": "mixed-in",
      "listen": "127.0.0.1",
      "listen_port": 1080
    }
  ],
  "outbounds": [
    { "type": "direct", "tag": "direct" },
    { "type": "block", "tag": "block" },

    {
      "type": "hysteria2",
      "tag": "hysteria-0443",
      "server": "____SERVER_IP____",
      "server_port": 443,
      "password": "____SERVER_PASSWORD____",
      "tls": {
        "enabled": true,
        "insecure": true,
        "server_name": "www.cloudflare.com"
      }
    },
    {
      "type": "vless",
      "tag": "reality-0443",
      "server": "____SERVER_IP____",
      "server_port": 443,
      "uuid": "____SERVER_UUID____",
      "flow": "xtls-rprx-vision",
      "tls": {
        "enabled": true,
        "server_name": "www.microsoft.com",
        "utls": {
            "enabled": true,
            "fingerprint": "chrome"
        },
        "reality": {
          "enabled": true,
          "public_key": "____SERVER_PUBLIC_KEY____",
          "short_id": "____CLIENT_ID____: b1"
        }
      }
    },
    {
      "type": "urltest",
      "tag": "auto",
      "outbounds": ["hysteria-0443", "reality-0443"],
      "url": "https://www.gstatic.com/generate_204",
      "interval": "30s",
      "tolerance": 50
    }
  ],
  "route": {
    "default_domain_resolver": "cloudflare",
    "rule_set": [
      {
        "type": "remote",
        "tag": "geosite-cn",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/SagerNet/sing-geosite/rule-set/geosite-cn.srs"
      }
    ],
    "rules": [
      {
        "rule_set": ["geosite-cn"],
        "outbound": "direct"
      }
    ],

    "final": "auto"
  }
}
