<!doctype html>
<html>
  <body>
    <video id="v" controls autoplay playsinline></video>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script>
      const video = document.getElementById('v');
      const src = location.origin + '/data/stream.m3u8';
      if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = src; // Safari 原生 HLS
      } else if (Hls.isSupported()) {
        const hls = new Hls();
        hls.loadSource(src);
        hls.attachMedia(video);
      } else {
        alert('此浏览器不支持 HLS 播放');
      }
    </script>
  </body>
</html>
