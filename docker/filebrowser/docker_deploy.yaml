version: "3"

networks:
  net: { name: "filebrowser", driver: bridge, external: true }

services:
  filebrowser:
    image: filebrowser/filebrowser:v2
    # networks: ["net"]
    network_mode: bridge
    restart: always
    container_name: filebrowser
    user: "${USER_UID}:${USER_GID}"
    ports: ["${HTTP_Port}:${HTTP_Port}"]
    environment: [TZ=Asia/Shanghai]
    volumes:
    - /etc/timezone:/etc/timezone:ro
    - /etc/localtime:/etc/localtime:ro
    - ./configs/:/app/configs:ro
    - ./logs/:/app/logs/
    - ./data/:/app/data/
    - ./data/filebrowser:/app/data/filebrowser
    command:
    - --config=/app/configs/filebrowser.json
