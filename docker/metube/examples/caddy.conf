http://localhost:4042 {
    # auto_https off

    reverse_proxy metube-app:8081
    encode gzip

    basic_auth /* {
        metube $2a$14$N9V9RELYsrJYLNdTOjCCcu0H/iZoztuPwynE2nI7Vg1xAlmIx.UzO
    }

    # tls internal
    # tls /app/configs/site.cert /app/configs/site.key {
    #     protocols tls1.2 tls1.3
    #     ciphers TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
    #     alpn http/1.1 h2
    # }

    log {
        output file /app/logs/caddy.log
        format json
    }
}
